<apex:page Controller="nbsp" docType="html-5.0">
    
    <apex:form >
        <apex:inputText list="{!strSearch}" value="{!selectedValue}"/>
        <apex:commandButton value="Search Lead and Contact" action="{!searchMethod}" reRender="acct,cont,opprty" status="actStatus"/>
        
        <apex:actionStatus id="actStatus">
            <apex:facet name="start">
                <img src="/img/loading.gif"/>
            </apex:facet>
        </apex:actionStatus>
        
        <apex:pageBlock title="Account List" id="acct">
            <apex:pageBlockTable value="{!accList}" var="acc" columns="5">
                <apex:column value="{!acc.Name}"/>
                <apex:column value="{!acc.Type}"/> 
                <apex:column >
                    <apex:repeat value="{!contList}" var="cont">
                        <apex:outputText value="{!cont.name}" ></apex:outputText>,&nbsp;
                    </apex:repeat>
                </apex:column>
            </apex:pageBlockTable>
        </apex:pageBlock>
        
        
        <apex:pageBlock title="Contacts" id="cont">
            <apex:pageblockTable value="{!contList}" var="con">
                <apex:column value="{!con.name}"/>
                <apex:column value="{!con.email}"/>
            </apex:pageblockTable>
        </apex:pageBlock>
        
        <apex:pageBlock title="Oppertunity List" id="opprty">
            <apex:pageBlockTable value="{!oppList}" var="opp">
                <apex:column value="{!opp.name}"/>
                <apex:column value="{!opp.StageName}"/>
            </apex:pageBlockTable>
            
        </apex:pageBlock>
        
    </apex:form>
    
</apex:page>